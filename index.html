<!DOCTYPE html>
<html lang="es" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Propuesta de Evento | CERAMICA EXPERIENCE 2026</title>
    
    <!-- FUENTES ACTUALIZADAS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800;900&family=Inter:wght@200;300;400;500&family=Syne:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Colores Originales */
            --c-accent: #ce1719;
            --c-accent-glow: rgba(206, 23, 25, 0.4);
            --c-accent-dim: rgba(206, 23, 25, 0.1);
            --c-dark: #050505;
            --c-black-pure: #000000;
            
            /* Materiales Refinados */
            --c-panel: rgba(255, 255, 255, 0.02);
            --c-panel-border: rgba(255, 255, 255, 0.08);
            --c-panel-hover: rgba(255, 255, 255, 0.05);
            
            /* Textos */
            --c-text-main: #f0f0f0;
            --c-text-muted: #888;
            
            /* Fuentes Actualizadas */
            --f-heading: 'Montserrat', sans-serif;
            --f-body: 'Inter', sans-serif;
            --f-accent: 'Syne', sans-serif; 
            
            /* Animación */
            --ease-expo: cubic-bezier(0.19, 1, 0.22, 1);
        }

        /* --- RESET & BASE --- */
        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }
        
        html.lenis { height: auto; } 
        .lenis.lenis-smooth { scroll-behavior: auto; } 
        .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; } 
        .lenis.lenis-stopped { overflow: hidden; } 

        body {
            background-color: var(--c-dark);
            color: var(--c-text-main);
            font-family: var(--f-body);
            overflow-x: hidden;
            font-size: 16px;
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
            background-image: radial-gradient(circle at 50% 0%, #111 0%, var(--c-dark) 40%);
        }
        
        /* Bloqueo de scroll durante preloader */
        body.is-loading { overflow: hidden; height: 100vh; }

        /* --- SOLUCIÓN IFRAME (Evita el "enganche") --- */
        iframe {
            pointer-events: none; /* El ratón ignora el iframe y pasa al documento */
            user-select: none;
        }

        /* --- ATMÓSFERA --- */
        .noise-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E");
            pointer-events: none; z-index: 900; mix-blend-mode: overlay;
        }
        .vignette {
            position: fixed; inset: 0; pointer-events: none; z-index: 899;
            background: radial-gradient(circle at center, transparent 50%, rgba(0,0,0,0.8) 120%);
        }

        /* --- CURSOR --- */
        .cursor-dot {
            position: fixed; top: 0; left: 0; width: 6px; height: 6px; 
            background-color: var(--c-accent); border-radius: 50%; 
            transform: translate(-50%, -50%); z-index: 9999; pointer-events: none;
        }
        .cursor-outline {
            position: fixed; top: 0; left: 0; width: 40px; height: 40px; 
            border: 1px solid rgba(255,255,255,0.3); border-radius: 50%; 
            transform: translate(-50%, -50%); z-index: 9998; pointer-events: none;
            transition: width 0.3s var(--ease-expo), height 0.3s var(--ease-expo), background-color 0.3s;
        }
        body.hovering-active .cursor-outline {
            width: 60px; height: 60px; 
            background-color: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(2px);
            border-color: rgba(255,255,255,0.8);
        }

        /* --- PRELOADER ESPECTACULAR --- */
        #preloader {
            position: fixed; inset: 0; background: var(--c-black-pure); z-index: 10000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: transform 1s var(--ease-expo);
        }
        
        .preloader-content {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            position: relative;
        }

        .preloader-logo {
            width: 280px; 
            max-width: 70vw;
            height: auto;
            margin-bottom: 40px;
            opacity: 0;
            filter: blur(15px);
            transform: scale(1.1);
            animation: logoReveal 1.5s cubic-bezier(0.2, 1, 0.3, 1) forwards 0.2s;
        }

        .loader-line {
            width: 0%; height: 2px; background: var(--c-accent);
            box-shadow: 0 0 30px var(--c-accent);
            border-radius: 2px;
            animation: loadLine 2s cubic-bezier(0.8, 0, 0.2, 1) forwards 1.2s;
        }

        @keyframes logoReveal {
            0% { opacity: 0; filter: blur(20px); transform: scale(1.1) translateY(20px); }
            100% { opacity: 1; filter: blur(0); transform: scale(1) translateY(0); }
        }

        @keyframes loadLine { 
            0% { width: 0; opacity: 0.5; } 
            50% { opacity: 1; } 
            100% { width: 100%; opacity: 1; } 
        }

        /* --- TYPOGRAPHY PULIDA --- */
        h1, h2, h3 { font-family: var(--f-heading); color: #fff; line-height: 1.05; }
        
        .text-giant {
            font-size: clamp(3.5rem, 9vw, 8.5rem);
            font-weight: 900; text-transform: uppercase; 
            letter-spacing: -0.04em;
            margin-bottom: 20px; z-index: 2; position: relative;
            text-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        
        .section-header { 
            text-align: center; margin-bottom: 80px; 
            max-width: 1000px; margin-left: auto; margin-right: auto; 
        }
        
        .section-kicker {
            font-family: var(--f-accent); 
            color: var(--c-accent);
            font-size: clamp(1rem, 1.5vw, 1.4rem); 
            display: block; margin-bottom: 20px;
            opacity: 1; letter-spacing: 0.05em;
            text-transform: uppercase;
            font-weight: 700;
        }
        
        .section-title {
            font-size: clamp(2.5rem, 6vw, 4.5rem); 
            text-transform: uppercase; font-weight: 800;
            letter-spacing: -0.03em;
            background: linear-gradient(180deg, #fff 0%, #999 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        /* --- VIDEO & LAYOUT --- */
        .hero-video-full {
            width: 100%; height: 85vh; position: relative;
            border-radius: 8px; overflow: hidden;
            margin-bottom: -80px; z-index: 1;
            box-shadow: 0 50px 100px rgba(0,0,0,0.9);
            border: 1px solid rgba(255,255,255,0.05);
            pointer-events: none; /* Asegura que el container también ignore clicks si es necesario */
        }
        .hero-video-full iframe {
            width: 100%; height: 110%; object-fit: cover;
            position: absolute; top: -5%; left: 0;
            pointer-events: none; /* CRÍTICO: Evita que el iframe robe el foco del ratón */
        }
        .hero-video-full::after {
            content: ''; position: absolute; inset: 0;
            box-shadow: inset 0 0 150px rgba(0,0,0,0.8);
            pointer-events: none; z-index: 2;
        }
        
        .container { max-width: 1500px; margin: 0 auto; padding: 0 30px; position: relative; }
        .spacer { height: 200px; }
        
        .content-grid {
            display: grid; grid-template-columns: repeat(12, 1fr); gap: 30px;
            position: relative; z-index: 5; 
        }
        
        .main-feature-card {
            grid-column: 2 / span 10;
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(40px); -webkit-backdrop-filter: blur(40px);
            border: 1px solid rgba(255,255,255,0.08);
            padding: 70px 50px; border-radius: 12px;
            text-align: center; box-shadow: 0 40px 80px rgba(0,0,0,0.6);
            transition: transform 0.5s var(--ease-expo);
        }
        .main-feature-card:hover {
            border-color: rgba(255,255,255,0.15);
            box-shadow: 0 0 50px var(--c-accent-dim);
        }
        
        .secondary-grid {
            grid-column: 1 / -1;
            display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 30px;
            margin-top: 60px;
        }

        .glass-card {
            background: rgba(10, 10, 10, 0.9); 
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--c-panel-border);
            padding: 50px; border-radius: 8px;
            transition: all 0.5s var(--ease-expo);
            position: relative; overflow: hidden;
        }
        .glass-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(255,255,255,0.06), transparent 40%);
            opacity: 0; transition: opacity 0.4s; pointer-events: none;
        }
        .glass-card:hover::before { opacity: 1; }
        .glass-card:hover {
            background: var(--c-panel-hover); border-color: rgba(255,255,255,0.2);
            transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        .card-label {
            font-family: var(--f-accent); 
            color: var(--c-accent); font-size: 0.8rem; text-transform: uppercase; 
            letter-spacing: 2px; font-weight: 700; margin-bottom: 20px;
            border-bottom: 1px solid rgba(206, 23, 25, 0.3); padding-bottom: 10px; display: inline-block;
        }
        .glass-card h3 { font-size: 1.8rem; margin-bottom: 15px; font-weight: 600; letter-spacing: -0.02em; }
        .glass-card p { color: var(--c-text-muted); font-size: 1.05rem; line-height: 1.8; font-weight: 300; }
        
        .list-style ul { list-style: none; padding-left: 0; margin-top: 20px; }
        .list-style li { 
            position: relative; padding-left: 25px; margin-bottom: 12px; 
            color: var(--c-text-muted); font-size: 1rem; border-bottom: 1px solid rgba(255,255,255,0.03); padding-bottom: 12px;
        }
        .list-style li:last-child { border-bottom: none; }
        .list-style li::before { content: '✦'; position: absolute; left: 0; top: 2px; color: var(--c-accent); font-size: 0.8rem; }

        /* --- AUDIO DOCK --- */
        .audio-dock { position: fixed; bottom: 50px; right: 50px; z-index: 1000; }
        #audio-btn {
            background: rgba(0,0,0,0.6); backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2); color: white;
            padding: 15px 30px; border-radius: 100px;
            display: flex; align-items: center; gap: 15px;
            font-family: var(--f-heading); font-weight: 700; font-size: 0.85rem; letter-spacing: 2px;
            transition: all 0.4s var(--ease-expo); overflow: hidden; position: relative;
        }
        #audio-btn:hover {
            border-color: var(--c-accent); background: rgba(206, 23, 25, 0.1); padding-right: 40px;
        }
        .sound-waves { display: flex; gap: 4px; height: 15px; align-items: center; }
        .wave { width: 2px; background: #fff; height: 100%; transition: background 0.3s; }
        body.sound-active .wave { animation: wave-loud 0.8s infinite ease-in-out; background: var(--c-accent); }
        .wave:nth-child(1) { height: 6px; } .wave:nth-child(2) { height: 10px; } .wave:nth-child(3) { height: 4px; }
        @keyframes wave-loud { 0%,100% { height: 5px; } 50% { height: 20px; } }
        
        /* --- HERO --- */
        .hero { height: 100vh; position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .hero-content { text-align: center; position: relative; z-index: 3; padding: 20px; display:flex; flex-direction:column; align-items:center;}

        /* --- BOTON HERO AUDIO --- */
        .btn-hero-audio {
            margin-top: 40px;
            background: transparent;
            border: 1px solid var(--c-accent);
            color: var(--c-accent);
            padding: 12px 35px;
            border-radius: 50px;
            font-family: var(--f-accent);
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 2px;
            transition: all 0.3s var(--ease-expo);
            display: inline-flex;
            align-items: center;
            gap: 12px;
            overflow: hidden;
        }
        .btn-hero-audio:hover {
            background: var(--c-accent);
            color: #fff;
            box-shadow: 0 0 30px var(--c-accent-glow);
            transform: translateY(-2px);
        }
        .btn-hero-audio .icon { font-size: 1.1rem; }

        /* --- ANIMACIONES --- */
        .fade-up { opacity: 0; transform: translateY(60px); transition: all 1.2s var(--ease-expo); }
        .fade-up.is-in-view { opacity: 1; transform: translateY(0); }
        .delay-1 { transition-delay: 0.1s; }
        .delay-2 { transition-delay: 0.2s; }
        .delay-3 { transition-delay: 0.4s; } /* Nuevo delay para el botón */

        footer { 
            margin-top: 150px; padding: 100px 20px; 
            border-top: 1px solid rgba(255,255,255,0.05); text-align: center; 
            background: linear-gradient(to top, #000 0%, var(--c-dark) 100%);
        }
        
        @media (max-width: 768px) {
            .text-giant { font-size: 3.5rem; }
            .hero-video-full { height: 50vh; margin-bottom: -40px; }
            .main-feature-card { grid-column: 1 / -1; padding: 40px 25px; }
            .secondary-grid { grid-template-columns: 1fr; }
            #audio-btn span { display: none; }
            #audio-btn { padding: 15px; border-radius: 50%; }
            .cursor-dot, .cursor-outline { display: none; }
            .container { padding: 0 20px; }
            * { cursor: auto; }
        }
    </style>
</head>
<body class="is-loading">

    <!-- AUDIO -->
    <audio id="bg-music" src="music/SAKURA-CHILLWABE.MP3" loop></audio>
    
    <!-- AUDIO EXPLICATIVO (Nuevo) -->
    <audio id="hero-explanation" src="audio.wav"></audio>

    <!-- PRELOADER ACTUALIZADO -->
    <div id="preloader">
        <div class="preloader-content">
            <!-- LOGO CON RUTA RELATIVA -->
            <img src="images/logo-ceramica-experience.png" alt="Pamesa Logo" class="preloader-logo">
            <div class="loader-line"></div>
        </div>
    </div>

    <!-- BACKGROUND -->
    <div class="noise-overlay"></div>
    <div class="vignette"></div>

    <!-- CURSOR -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <!-- AUDIO BUTTON -->
    <div class="audio-dock">
        <button id="audio-btn" class="hover-target">
            <div class="sound-waves">
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
            </div>
            <span id="audio-label" style="margin-left: 10px;">ACTIVAR SONIDO</span>
        </button>
    </div>

    <main>
        <!-- HERO -->
        <header class="hero">
            <div style="position:absolute; width:100%; height:100%; top:0; left:0; z-index:-1; opacity:0.6; pointer-events: none;">
                <iframe src="https://player.vimeo.com/video/1137574821?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&loop=1&background=1&muted=1" 
                        frameborder="0" allow="autoplay; fullscreen" 
                        style="position:absolute;top:50%;left:50%;width:177.77vh;height:100vw;min-width:100%;min-height:100%;transform:translate(-50%,-50%);pointer-events:none; filter: brightness(0.6) contrast(1.1);" 
                        title="Hero"></iframe>
            </div>
            <div class="hero-content">
                <!-- SYNE FONT APLICADA AQUI -->
                <p class="section-kicker fade-up">Propuesta de Acciones para Showroom</p>
                <h1 class="text-giant fade-up delay-1">Concepto Central:<br><span style="color:var(--c-accent); text-shadow: 0 0 40px var(--c-accent-glow);">"El Universo Pamesa"</span></h1>
                <p style="max-width:800px; margin:30px auto 10px; font-size:1.25rem; color:#ccc; line-height: 1.8;" class="fade-up delay-2">
                    <strong>Hilo Conductor:</strong> Durante la "Ceramica Experience", el foco principal será presentar nuestras nuevas colecciones como las verdaderas "estrellas". El showroom se transformará en un universo de diseño.
                </p>
                
                <!-- BOTÓN DE AUDIO EXPLICATIVO AÑADIDO -->
                <button id="btn-play-explanation" class="hover-target btn-hero-audio fade-up delay-3">
                    <span class="icon">▶</span>
                    <span class="text">ESCUCHAR RESUMEN</span>
                </button>
            </div>
        </header>

        <div class="spacer"></div>

        <section class="container">
            <div class="section-header fade-up">
                <span class="section-kicker">Ambientación</span>
                <h2 class="section-title">A. El Escenario de las Estrellas</h2>
            </div>
            <div class="hero-video-full fade-up delay-1">
                <iframe src="https://player.vimeo.com/video/1137574800?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&loop=1&background=1" frameborder="0" allow="autoplay; fullscreen" title="Video Ambientación"></iframe>
            </div>
            <div class="content-grid fade-up delay-2">
                <div class="main-feature-card">
                    <span class="card-label">Entrada de Impacto</span>
                    <h3 style="font-size:2.5rem; margin-bottom:20px; font-weight: 800;">Paseo de las Estrellas Pamesa</h3>
                    <p style="font-size:1.1rem; color:#ddd; max-width:800px; margin:0 auto;">
                        <strong>Acción:</strong> Alfombra roja guiando a los invitados con vinilos dorados de las nuevas colecciones.<br><br>
                        <strong>Efecto:</strong> Entrada de gran impacto y lujo, comunicando "estreno" y exclusividad.
                    </p>
                </div>
                <div class="secondary-grid">
                    <div class="glass-card hover-target">
                        <span class="card-label">Visual</span>
                        <h3>Video Inmersivo</h3>
                        <p>Pantalla gigante en el lobby mostrando las series como constelaciones.</p>
                    </div>
                    <div class="glass-card hover-target">
                        <span class="card-label">Iluminación</span>
                        <h3>Galería de Novedades</h3>
                        <p>Luz de acento precisa sobre cada pieza clave, estilo galería de arte.</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="spacer"></div>

        <section class="container">
            <div class="section-header fade-up">
                <span class="section-kicker">Experiencias</span>
                <h2 class="section-title">B. El Cliente como Protagonista</h2>
            </div>
            <div class="hero-video-full fade-up delay-1">
                <iframe src="https://player.vimeo.com/video/1137574735?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&loop=1&background=1" frameborder="0" allow="autoplay; fullscreen" title="Video Experiencias"></iframe>
            </div>
            <div class="content-grid fade-up delay-2">
                <div class="main-feature-card">
                    <span class="card-label">Social Moment</span>
                    <h3 style="font-size:2.5rem; margin-bottom:20px; font-weight: 800;">Photocall "Brilla con Pamesa"</h3>
                    <p style="font-size:1.1rem; color:#ddd; max-width:800px; margin:0 auto;">
                        Fondo oscuro con destellos dorados. Fotografía profesional instantánea.
                    </p>
                </div>
                <div class="secondary-grid">
                    <div class="glass-card hover-target">
                        <span class="card-label">Interacción</span>
                        <h3>Mesa de Creación</h3>
                        <p>Espacio táctil para interactuar con muestras y texturas.</p>
                    </div>
                    <div class="glass-card hover-target">
                        <span class="card-label">Wow Effect</span>
                        <h3>Cabina Inmersiva</h3>
                        <p>Santuario oscuro con una pieza iluminada cenitalmente.</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="spacer"></div>

        <section class="container">
            <div class="section-header fade-up">
                <span class="section-kicker">Gastronomía</span>
                <h2 class="section-title">C. La Energía del Universo</h2>
            </div>
            <div class="hero-video-full fade-up delay-1">
                <iframe src="https://player.vimeo.com/video/1137574751?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&loop=1&background=1" frameborder="0" allow="autoplay; fullscreen" title="Video Gastronomia"></iframe>
            </div>
            <div class="content-grid fade-up delay-2">
                <div class="main-feature-card">
                    <span class="card-label">Ambiente & Sabor</span>
                    <h3 style="font-size:2.5rem; margin-bottom:20px; font-weight: 800;">DJ Set & Catering Cósmico</h3>
                    <p style="font-size:1.1rem; color:#ddd; max-width:800px; margin:0 auto;">
                        Sesión Deep House sofisticada y catering en islas de diseño.
                    </p>
                </div>
                <div class="secondary-grid">
                    <div class="glass-card hover-target list-style">
                        <span class="card-label">Menú</span>
                        <h3>Bocados de Galaxia</h3>
                        <ul>
                            <li>Mocktails "Cosmos".</li>
                            <li>Macarons efecto galaxia.</li>
                            <li>Helados siderales.</li>
                        </ul>
                    </div>
                    <div class="glass-card hover-target">
                        <span class="card-label">Staff</span>
                        <h3>Equipo de Sala</h3>
                        <p>"Total Black" con pines de estrella. Servicio discreto y elegante.</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="spacer"></div>

        <section class="container">
            <div class="section-header fade-up">
                <span class="section-kicker">Comunicación Digital</span>
                <h2 class="section-title">D. El Latido del Evento</h2>
            </div>
            <div class="hero-video-full fade-up delay-1">
    <iframe src="https://player.vimeo.com/video/1137574718?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&loop=1&background=1" frameborder="0" allow="autoplay; fullscreen" title="Video Comunicacion"></iframe>
</div>
            <div class="content-grid fade-up delay-2">
                <div class="secondary-grid" style="margin-top: 0;">
                    <div class="glass-card hover-target">
                        <span class="card-label">Audio</span>
                        <h3>Banda Sonora "Starlight"</h3>
                        <p>Playlist Chillwave curada para una atmósfera coherente.</p>
                    </div>
                    <div class="glass-card hover-target">
                        <span class="card-label">Mensaje</span>
                        <h3>Píldoras Visuales</h3>
                        <p>Mensajes en pantallas: "Hay un universo de posibilidades. Y todas brillan."</p>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <img src="images/logo-ceramica-experience.png" alt="Pamesa Cerámica" style="height:50px; filter:grayscale(1) brightness(2); opacity:0.6;">
            <p style="margin-top:30px; color:#666; font-size:0.8rem; letter-spacing: 2px; text-transform: uppercase;">Propuesta Confidencial | Pamesa Cerámica &copy; 2025</p>
        </footer>

    </main>

    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
    <script src="https://player.vimeo.com/api/player.js"></script>
    
    <script>
        // SMOOTH SCROLL
        const lenis = new Lenis({
            duration: 1.8,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            smooth: true,
            mouseMultiplier: 1,
            touchMultiplier: 2,
        });
        function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
        requestAnimationFrame(raf);

        // MOUSE GLOW EFFECT
        document.addEventListener('mousemove', e => {
            document.querySelectorAll('.glass-card').forEach(card => {
                const rect = card.getBoundingClientRect();
                card.style.setProperty('--mouse-x', `${e.clientX - rect.left}px`);
                card.style.setProperty('--mouse-y', `${e.clientY - rect.top}px`);
            });
        });

        // CURSOR
        const dot = document.querySelector('.cursor-dot');
        const outline = document.querySelector('.cursor-outline');
        window.addEventListener('mousemove', (e) => {
            const px = e.clientX, py = e.clientY;
            dot.style.left = `${px}px`; dot.style.top = `${py}px`;
            outline.style.left = `${px}px`; outline.style.top = `${py}px`;
        });
        document.querySelectorAll('.hover-target, button, a').forEach(el => {
            el.addEventListener('mouseenter', () => document.body.classList.add('hovering-active'));
            el.addEventListener('mouseleave', () => document.body.classList.remove('hovering-active'));
        });

        // AUDIO DE FONDO
        const audioBtn = document.getElementById('audio-btn');
        const audioLabel = document.getElementById('audio-label');
        const audio = document.getElementById('bg-music');
        let isPlaying = false;
        audioBtn.addEventListener('click', () => {
            if(!isPlaying) {
                audio.play().then(() => {
                    isPlaying = true;
                    document.body.classList.add('sound-active');
                    audioLabel.innerText = "SONIDO ACTIVO";
                    audioLabel.style.color = "var(--c-accent)";
                    audioBtn.style.borderColor = "var(--c-accent)";
                });
            } else {
                audio.pause();
                isPlaying = false;
                document.body.classList.remove('sound-active');
                audioLabel.innerText = "ACTIVAR SONIDO";
                audioLabel.style.color = "white";
                audioBtn.style.borderColor = "rgba(255,255,255,0.2)";
            }
        });

        // LOGICA DEL NUEVO AUDIO EXPLICATIVO
        const explAudio = document.getElementById('hero-explanation');
        const explBtn = document.getElementById('btn-play-explanation');
        const explText = explBtn.querySelector('.text');
        const explIcon = explBtn.querySelector('.icon');
        
        // Estados: 0 = Detenido, 1 = Reproduciendo, 2 = Pausado
        let explState = 0;

        explBtn.addEventListener('click', () => {
            if (explState === 0) {
                // CLIC 1: REPRODUCIR
                explAudio.play();
                explState = 1;
                explText.innerText = "PAUSAR";
                explIcon.innerText = "❚❚";
            } 
            else if (explState === 1) {
                // CLIC 2: PAUSAR
                explAudio.pause();
                explState = 2;
                explText.innerText = "DETENER";
                explIcon.innerText = "■";
            } 
            else if (explState === 2) {
                // CLIC 3: PARAR Y REINICIAR
                explAudio.pause();
                explAudio.currentTime = 0;
                explState = 0;
                explText.innerText = "ESCUCHAR RESUMEN";
                explIcon.innerText = "▶";
            }
        });

        // Si el audio termina solo, volver al estado inicial
        explAudio.addEventListener('ended', () => {
            explState = 0;
            explText.innerText = "ESCUCHAR RESUMEN";
            explIcon.innerText = "▶";
        });

        // ANIMACIONES SCROLL
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if(entry.isIntersecting) entry.target.classList.add('is-in-view'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('.fade-up').forEach(el => observer.observe(el));

        // PRELOADER LOGIC
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('preloader').style.transform = 'translateY(-100%)';
                // Permitir scroll después de la animación
                setTimeout(() => {
                    document.body.classList.remove('is-loading');
                }, 1000);
            }, 3500); 
        });
    </script>
</body>
</html>